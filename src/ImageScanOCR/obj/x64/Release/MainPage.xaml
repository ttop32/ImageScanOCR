<Page x:ConnectionId='1'
    x:Class="ImageScanOCR.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:ImageScanOCR"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    xmlns:controls="using:Microsoft.Toolkit.Uwp.UI.Controls"
    xmlns:muxc="using:Microsoft.UI.Xaml.Controls"
    muxc:BackdropMaterial.ApplyToRootOrPageBackground="True"
    >



    <Grid  >



        <!--main working panel-->
        <muxc:NavigationView x:ConnectionId='2' x:Name="NavigationViewControl"     
            PaneDisplayMode="Top" IsBackButtonVisible="Collapsed" IsSettingsVisible="False" Background="Transparent">
            <Grid>
                <Frame x:ConnectionId='18' x:Name="contentFrame">
                    <Grid Background="{ThemeResource AcrylicBackgroundFillColorDefaultBrush}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="1*"></ColumnDefinition>
                            <ColumnDefinition Width="15"></ColumnDefinition>
                            <ColumnDefinition Width="2*"></ColumnDefinition>
                            <ColumnDefinition Width="15"></ColumnDefinition>
                            <ColumnDefinition Width="2*"></ColumnDefinition>
                        </Grid.ColumnDefinitions>

                        <!--Column Grid Splitter-->
                        <controls:GridSplitter Grid.Column="1" Width="11" ResizeBehavior="BasedOnAlignment" ResizeDirection="Auto" Background="Transparent" Foreground="White" FontSize="13">
                            <controls:GridSplitter.Element>
                                <Grid>
                                    <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center"   IsHitTestVisible="False"  Foreground="White" FontFamily="Segoe MDL2 Assets"  Text="&#xE784;">
                                    </TextBlock>
                                </Grid>
                            </controls:GridSplitter.Element>
                        </controls:GridSplitter>
                        <controls:GridSplitter Grid.Column="3" Width="11" ResizeBehavior="BasedOnAlignment" ResizeDirection="Auto" Background="Transparent" Foreground="White" FontSize="13">
                            <controls:GridSplitter.Element>
                                <Grid>
                                    <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center"   IsHitTestVisible="False"  Foreground="White" FontFamily="Segoe MDL2 Assets"  Text="&#xE784;">
                                    </TextBlock>
                                </Grid>
                            </controls:GridSplitter.Element>
                        </controls:GridSplitter>


                        <!--left file explorer panel-->
                        <Grid Grid.Column="0" Background="#1036C0FF">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="40"></RowDefinition>
                                    <RowDefinition Height="1*"></RowDefinition>
                                </Grid.RowDefinitions>

                                <muxc:BreadcrumbBar x:ConnectionId='25' x:Name="FolderBreadcrumbBar"
                                                                      
                                                                                  Margin="8,8" Grid.Row="0">
                                </muxc:BreadcrumbBar>

                                <ListView x:ConnectionId='26' x:Name="FolderListView" 
                                     IsItemClickEnabled="True" 
                                                                          Grid.Row="1"                                     >


                                    <ListView.ItemTemplate>
                                        <DataTemplate>
                                            <StackPanel Orientation="Horizontal">
                                                <FontIcon  FontFamily="{StaticResource SymbolThemeFontFamily}" Glyph="{Binding ItemSymbol}" Margin="0,0,10,0"/>
                                                <TextBlock Text="{Binding Name}"/>
                                            </StackPanel>
                                        </DataTemplate>
                                    </ListView.ItemTemplate>
                                </ListView>
                            </Grid>
                        </Grid>

                        <!--image panel-->
                        <Grid x:ConnectionId='19' Grid.Column="2"  AllowDrop="True"                                                  Background="Transparent"  >
                            <Image x:ConnectionId='22' x:Name="PreviewImage"                               />
                            <Canvas x:ConnectionId='23' x:Name="MyCanvas"
                                IsHitTestVisible="True"
                                                                 
                                                               
                                                                
                                                                  
                                Background="Transparent" 
                                                                    
                                Width="0" 
                                Height="0"
                                >
                                <Rectangle x:ConnectionId='24' x:Name="CropBox" Stroke="Black" StrokeThickness="2" StrokeDashArray="5 5 1 5" Visibility="Collapsed"/>
                            </Canvas>
                        </Grid>

                        <!--text panel-->
                        <Grid Grid.Column="4">
                            <TextBox x:ConnectionId='20' x:Name="TextField" Text="" FontSize="18" TextWrapping="Wrap" AcceptsReturn="True" ScrollViewer.VerticalScrollBarVisibility="Auto" BorderThickness="0" Padding="15" CornerRadius="0"/>
                            <ProgressRing x:ConnectionId='21' x:Name="ProgressItem" Height="100" Width="100"/>
                        </Grid>
                    </Grid>
                </Frame>
            </Grid>
        </muxc:NavigationView>




        <!--top bar -->
        <StackPanel Orientation="Vertical">
            <!--title bar-->
            <Border x:ConnectionId='3' x:Name="AppTitleBar"
                IsHitTestVisible="True"
                VerticalAlignment="Top"
                Background="Transparent"
                Height="24"
                Margin="16,8,0,0">
                <StackPanel Orientation="Horizontal">
                    <Image x:ConnectionId='16' x:Name="AppFontIcon"
                    HorizontalAlignment="Left" 
                    VerticalAlignment="Center"
                    Source="Assets/Square44x44Logo.png" 
                    Width="16" 
                    Height="16"/>
                    <TextBlock x:ConnectionId='17' x:Name="AppTitle"
                    Text="Image Scan OCR"
                    VerticalAlignment="Center"
                    Margin="12,0,0,0"
                    Style="{StaticResource CaptionTextBlockStyle}" />
                </StackPanel>
            </Border>


            <!--menu bar-->
            <CommandBar x:ConnectionId='4' x:Name="FileAct"  IsOpen="False"  Background="Transparent" Height="48" HorizontalAlignment="Left" DefaultLabelPosition="Right" >
                <AppBarElementContainer x:ConnectionId='5' x:Name="ExtraBt"  VerticalAlignment="Center">
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Stretch">
                        <SymbolIcon Symbol="Character" Margin="10,0"/>
                        <TextBlock Text="Language" VerticalAlignment="Center" Margin="10,0"></TextBlock>
                        <ComboBox x:ConnectionId='14' x:Name="LangCombo"  PlaceholderText="No Language"                                     DisplayMemberPath="DisplayName"                                               
                               Width="200"   Height="36"  FontSize="13" FontWeight="Normal" Opacity="0.7"  Background="#19787878" BorderBrush="{x:Null}"  >
                            <ComboBox.Resources>
                                <muxc:TeachingTip x:ConnectionId='15' x:Name="MoreLanguageTip"                              Title="For more OCR Language Support" IsOpen="False">
                                    <TextBlock TextWrapping="Wrap" >
                                        Add language pack from the 
                                        <Hyperlink NavigateUri="ms-settings:regionlanguage-adddisplaylanguage"> Window Settings Link </Hyperlink>
                                        and restart program
                                    </TextBlock>
                                </muxc:TeachingTip>
                            </ComboBox.Resources>
                        </ComboBox>
                    </StackPanel>
                </AppBarElementContainer>

                <AppBarSeparator x:ConnectionId='6' x:Name="sepCl" Margin="4,0,0,10"  Height="30"/>
                <AppBarButton x:ConnectionId='7' x:Name="OpenFolder" Label="OpenFolder" Icon="NewFolder"                         />
                <AppBarButton x:ConnectionId='8' x:Name="BatchProcess" Label="BatchProcess" Icon="OpenWith"                            Visibility="Visible"/>
                <AppBarButton x:ConnectionId='9' x:Name="CancelBatch" Label="CancelBatch" Icon="Cancel"                           Visibility="Collapsed"/>
                <AppBarButton x:ConnectionId='10' x:Name="Rotate" Label="Rotate" Icon="Rotate"                     />
                <AppBarButton x:ConnectionId='11' x:Name="WrapText" Label="WrapText" Icon="AlignLeft"                       />
                <AppBarButton x:ConnectionId='12' x:Name="CopyAll" Label="CopyAll" Icon="Copy"                      />
                <AppBarButton x:ConnectionId='13' x:Name="SaveFile" Label="Save" Icon="Save"                       />
            </CommandBar>
        </StackPanel>
    </Grid>
</Page>

